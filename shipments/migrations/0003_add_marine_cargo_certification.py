# Generated by Django 4.2.27 on 2025-12-17 05:13

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('shipments', '0002_shipment_current_latitude_shipment_current_longitude_and_more'),
    ]

    operations = [
        migrations.AddField(
            model_name='shipment',
            name='container_number',
            field=models.CharField(blank=True, help_text='ISO 6346 container number: 4 letters (owner code) + 7 digits', max_length=11, verbose_name='Container Number'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='container_type',
            field=models.CharField(blank=True, choices=[('20ft_standard', '20ft Standard Container'), ('40ft_standard', '40ft Standard Container'), ('40ft_high_cube', '40ft High Cube Container'), ('roro', 'RoRo (Roll-on/Roll-off)'), ('flatbed', 'Flatbed'), ('specialized', 'Specialized Vehicle Carrier')], max_length=50, verbose_name='Container/Transport Type'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='ctpat_compliant',
            field=models.BooleanField(default=False, help_text='True if shipment meets C-TPAT security requirements', verbose_name='C-TPAT Compliant'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='has_security_incident',
            field=models.BooleanField(default=False, help_text='True if any security incident occurred during shipment', verbose_name='Has Security Incident'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='insurance_company',
            field=models.CharField(blank=True, max_length=255, verbose_name='Insurance Company'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='insurance_coverage_amount',
            field=models.DecimalField(blank=True, decimal_places=2, help_text='Insurance coverage amount in CAD', max_digits=12, null=True, verbose_name='Insurance Coverage (CAD)'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='insurance_policy_number',
            field=models.CharField(blank=True, max_length=100, verbose_name='Insurance Policy Number'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='iso_18602_compliant',
            field=models.BooleanField(default=False, help_text='True if tracking data meets ISO 18602 standards', verbose_name='ISO 18602 Compliant'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='iso_28000_audit_date',
            field=models.DateField(blank=True, help_text='Date of last ISO 28000 compliance audit for this shipment', null=True, verbose_name='ISO 28000 Audit Date'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='lloyd_register_certificate_date',
            field=models.DateField(blank=True, null=True, verbose_name='LR Certificate Date'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='lloyd_register_certificate_issued',
            field=models.BooleanField(default=False, help_text='True if LR Certificate of Safe Delivery was issued', verbose_name='LR Certificate Issued'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='lloyd_register_certificate_number',
            field=models.CharField(blank=True, max_length=50, verbose_name='LR Certificate Number'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='lloyd_register_notes',
            field=models.TextField(blank=True, verbose_name='LR Notes'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='lloyd_register_service_level',
            field=models.CharField(blank=True, choices=[('none', 'No LR Service'), ('standard', 'Standard Monitoring'), ('premium', 'Premium 24/7 Monitoring'), ('surveyor', 'Full Surveyor Service')], default='none', max_length=20, verbose_name='LR Service Level'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='lloyd_register_status',
            field=models.CharField(blank=True, choices=[('not_registered', 'Not Registered'), ('pending_origin', 'Pending Origin Inspection'), ('origin_approved', 'Origin Inspection Approved'), ('in_monitoring', 'Active Monitoring'), ('arrived', 'Arrived - Pending Destination Inspection'), ('destination_approved', 'Destination Inspection Approved'), ('certificate_issued', 'Certificate Issued'), ('discrepancy', 'Discrepancy Reported')], default='not_registered', max_length=30, verbose_name='LR Status'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='lloyd_register_surveyor_destination',
            field=models.CharField(blank=True, help_text='Name of LR surveyor who inspected at destination', max_length=255, verbose_name='LR Destination Surveyor'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='lloyd_register_surveyor_origin',
            field=models.CharField(blank=True, help_text='Name of LR surveyor who inspected at origin', max_length=255, verbose_name='LR Origin Surveyor'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='lloyd_register_tracking_id',
            field=models.CharField(blank=True, help_text="Lloyd's Register Cargo Tracking Service reference number", max_length=50, null=True, unique=True, verbose_name='LR Tracking ID'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_applied_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Seal Applied At'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_applied_by',
            field=models.CharField(blank=True, help_text='Name of person/organization who applied seal', max_length=255, verbose_name='Seal Applied By'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_destination_verification_date',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Destination Verification Date'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_destination_verifier',
            field=models.CharField(blank=True, max_length=255, verbose_name='Destination Verifier Name'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_intact',
            field=models.BooleanField(default=True, help_text='False if seal was tampered with or broken', verbose_name='Seal Intact'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_notes',
            field=models.TextField(blank=True, help_text='Any issues or observations about container seal', verbose_name='Seal Notes'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_number',
            field=models.CharField(blank=True, help_text='High-security bolt seal or electronic seal number', max_length=50, verbose_name='Seal Number'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_origin_verification_date',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Origin Verification Date'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_origin_verifier',
            field=models.CharField(blank=True, max_length=255, verbose_name='Origin Verifier Name'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_type',
            field=models.CharField(blank=True, choices=[('bolt', 'High-Security Bolt Seal'), ('cable', 'Cable Seal'), ('electronic', 'Electronic Seal (e-seal)'), ('barrier', 'Barrier Seal')], max_length=20, verbose_name='Seal Type'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_verified_at_destination',
            field=models.BooleanField(default=False, help_text='Verified intact at destination port upon arrival', verbose_name='Seal Verified at Destination'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='seal_verified_at_origin',
            field=models.BooleanField(default=False, help_text='Verified intact at Canadian port before departure', verbose_name='Seal Verified at Origin'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='security_assessment_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='security_assessments', to=settings.AUTH_USER_MODEL, verbose_name='Security Assessment By'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='security_assessment_completed',
            field=models.BooleanField(default=False, help_text='True if pre-shipment security risk assessment was completed', verbose_name='Security Assessment Completed'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='security_assessment_date',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Security Assessment Date'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='security_incident_description',
            field=models.TextField(blank=True, verbose_name='Security Incident Description'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='security_incident_reported_to_authorities',
            field=models.BooleanField(default=False, verbose_name='Incident Reported to Authorities'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='security_measures_implemented',
            field=models.TextField(blank=True, help_text='List of security measures implemented (GPS tracker, seal, insurance, etc)', verbose_name='Security Measures Implemented'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='security_risk_level',
            field=models.CharField(choices=[('low', 'Low Risk'), ('medium', 'Medium Risk'), ('high', 'High Risk'), ('critical', 'Critical Risk')], default='low', help_text='Security risk assessment based on route, value, destination', max_length=20, verbose_name='Security Risk Level'),
        ),
        migrations.AddField(
            model_name='shipmentupdate',
            name='iso_message_type',
            field=models.CharField(blank=True, choices=[('IFTSTA', 'Status Report'), ('GATELOC', 'Gate Location'), ('CUSCAR', 'Customs Cargo Report'), ('CONTRL', 'Control Message'), ('APERAK', 'Application Error and Acknowledgement')], help_text='UN/EDIFACT message type for EDI integration', max_length=20, verbose_name='ISO Message Type'),
        ),
        migrations.AddField(
            model_name='shipmentupdate',
            name='iso_message_xml',
            field=models.TextField(blank=True, help_text='ISO 18602 compliant XML message for port systems', verbose_name='ISO Message XML'),
        ),
        migrations.AddField(
            model_name='shipmentupdate',
            name='latitude',
            field=models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, validators=[django.core.validators.MinValueValidator(-90), django.core.validators.MaxValueValidator(90)], verbose_name='Latitude'),
        ),
        migrations.AddField(
            model_name='shipmentupdate',
            name='longitude',
            field=models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, validators=[django.core.validators.MinValueValidator(-180), django.core.validators.MaxValueValidator(180)], verbose_name='Longitude'),
        ),
        migrations.AddField(
            model_name='shipmentupdate',
            name='verification_method',
            field=models.CharField(blank=True, choices=[('visual', 'Visual Inspection'), ('rfid', 'RFID Scan'), ('gps', 'GPS Verification'), ('document', 'Document Verification'), ('surveyor', 'Professional Surveyor'), ('customs', 'Customs Authority')], max_length=50, verbose_name='Verification Method'),
        ),
        migrations.AddField(
            model_name='shipmentupdate',
            name='verified_by',
            field=models.CharField(blank=True, help_text='Port authority, surveyor, or customs official who verified this update', max_length=255, verbose_name='Verified By'),
        ),
        migrations.CreateModel(
            name='SecurityRiskAssessment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('assessment_date', models.DateTimeField(auto_now_add=True, verbose_name='Assessment Date')),
                ('overall_risk_level', models.CharField(choices=[('low', 'Low Risk (0-30 points)'), ('medium', 'Medium Risk (31-60 points)'), ('high', 'High Risk (61-85 points)'), ('critical', 'Critical Risk (86-100 points)')], max_length=20, verbose_name='Overall Risk Level')),
                ('risk_score', models.IntegerField(help_text='Calculated risk score: 0-100', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Risk Score')),
                ('route_risk_score', models.IntegerField(default=0, help_text='Piracy zones, political instability, weather patterns', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)], verbose_name='Route Risk Score')),
                ('value_risk_score', models.IntegerField(default=0, help_text='Vehicle value creates theft/fraud risk', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)], verbose_name='Value Risk Score')),
                ('destination_risk_score', models.IntegerField(default=0, help_text='Destination country security and corruption levels', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)], verbose_name='Destination Risk Score')),
                ('customs_risk_score', models.IntegerField(default=0, help_text='Customs complexity and documentation requirements', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)], verbose_name='Customs Risk Score')),
                ('port_security_score', models.IntegerField(default=0, help_text='Security level at origin and destination ports', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)], verbose_name='Port Security Score')),
                ('mitigation_measures', models.TextField(help_text='Security measures to be implemented', verbose_name='Mitigation Measures')),
                ('insurance_required', models.BooleanField(default=True, verbose_name='Insurance Required')),
                ('recommended_insurance_amount', models.DecimalField(decimal_places=2, help_text='Recommended insurance coverage in CAD', max_digits=12, verbose_name='Recommended Insurance (CAD)')),
                ('lloyd_register_recommended', models.BooleanField(default=False, help_text='True if LR monitoring is recommended based on risk level', verbose_name='LR Monitoring Recommended')),
                ('approved', models.BooleanField(default=False, verbose_name='Assessment Approved')),
                ('approval_date', models.DateTimeField(blank=True, null=True, verbose_name='Approval Date')),
                ('notes', models.TextField(blank=True, verbose_name='Assessment Notes')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='risk_assessments_approved', to=settings.AUTH_USER_MODEL, verbose_name='Approved By')),
                ('assessed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='risk_assessments_conducted', to=settings.AUTH_USER_MODEL, verbose_name='Assessed By')),
                ('shipment', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='risk_assessment', to='shipments.shipment', verbose_name='Shipment')),
            ],
            options={
                'verbose_name': 'Security Risk Assessment',
                'verbose_name_plural': 'Security Risk Assessments',
                'ordering': ['-assessment_date'],
            },
        ),
        migrations.CreateModel(
            name='SecurityIncident',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('incident_type', models.CharField(choices=[('delay', 'Unexpected Delay'), ('damage', 'Vehicle Damage'), ('theft', 'Theft or Attempted Theft'), ('accident', 'Transportation Accident'), ('customs', 'Customs Issue'), ('seal_breach', 'Container Seal Breached'), ('gps_failure', 'GPS Tracking Failure'), ('documentation', 'Documentation Discrepancy'), ('weather', 'Weather-Related Incident'), ('port_security', 'Port Security Issue'), ('other', 'Other Incident')], max_length=30, verbose_name='Incident Type')),
                ('severity', models.CharField(choices=[('minor', 'Minor - No impact on delivery'), ('moderate', 'Moderate - Minor delay or cosmetic damage'), ('severe', 'Severe - Significant delay or damage'), ('critical', 'Critical - Major security breach or total loss')], max_length=20, verbose_name='Severity Level')),
                ('incident_date', models.DateTimeField(verbose_name='Incident Date/Time')),
                ('location', models.CharField(max_length=255, verbose_name='Incident Location')),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, validators=[django.core.validators.MinValueValidator(-90), django.core.validators.MaxValueValidator(90)], verbose_name='Latitude')),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, validators=[django.core.validators.MinValueValidator(-180), django.core.validators.MaxValueValidator(180)], verbose_name='Longitude')),
                ('description', models.TextField(verbose_name='Incident Description')),
                ('reported_date', models.DateTimeField(auto_now_add=True, verbose_name='Reported Date')),
                ('police_report_filed', models.BooleanField(default=False, verbose_name='Police Report Filed')),
                ('police_report_number', models.CharField(blank=True, max_length=100, verbose_name='Police Report Number')),
                ('insurance_claim_filed', models.BooleanField(default=False, verbose_name='Insurance Claim Filed')),
                ('insurance_claim_number', models.CharField(blank=True, max_length=100, verbose_name='Insurance Claim Number')),
                ('lloyd_register_notified', models.BooleanField(default=False, verbose_name="Lloyd's Register Notified")),
                ('immediate_action_taken', models.TextField(blank=True, help_text='Immediate actions taken to address the incident', verbose_name='Immediate Action Taken')),
                ('corrective_measures', models.TextField(blank=True, help_text='Long-term corrective measures to prevent recurrence', verbose_name='Corrective Measures')),
                ('resolved', models.BooleanField(default=False, verbose_name='Incident Resolved')),
                ('resolution_date', models.DateTimeField(blank=True, null=True, verbose_name='Resolution Date')),
                ('resolution_notes', models.TextField(blank=True, verbose_name='Resolution Notes')),
                ('estimated_cost', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost in CAD (delays, repairs, etc)', max_digits=10, null=True, verbose_name='Estimated Cost (CAD)')),
                ('evidence_photos', models.TextField(blank=True, help_text='Links to ShipmentPhoto objects serving as evidence', verbose_name='Evidence Photo IDs')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reported_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='incidents_reported', to=settings.AUTH_USER_MODEL, verbose_name='Reported By')),
                ('shipment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='security_incidents', to='shipments.shipment', verbose_name='Shipment')),
            ],
            options={
                'verbose_name': 'Security Incident',
                'verbose_name_plural': 'Security Incidents',
                'ordering': ['-incident_date'],
                'indexes': [models.Index(fields=['shipment', '-incident_date'], name='shipments_s_shipmen_b5b0ed_idx'), models.Index(fields=['severity', 'resolved'], name='shipments_s_severit_a104be_idx')],
            },
        ),
        migrations.CreateModel(
            name='PortVerification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('verification_type', models.CharField(choices=[('origin_departure', 'Origin Port - Pre-Departure'), ('transit_port', 'Transit Port'), ('destination_arrival', 'Destination Port - Arrival'), ('destination_release', 'Destination Port - Released to Buyer')], max_length=30, verbose_name='Verification Type')),
                ('verification_date', models.DateTimeField(verbose_name='Verification Date/Time')),
                ('port_name', models.CharField(max_length=255, verbose_name='Port Name')),
                ('port_country', models.CharField(max_length=100, verbose_name='Port Country')),
                ('verified_by_name', models.CharField(help_text='Name of port official, customs officer, or LR surveyor', max_length=255, verbose_name='Verified By Name')),
                ('verifier_organization', models.CharField(help_text="Port authority, customs, Lloyd's Register, etc", max_length=255, verbose_name='Verifier Organization')),
                ('verifier_credentials', models.CharField(blank=True, help_text='License number, badge number, surveyor certification', max_length=255, verbose_name='Verifier Credentials')),
                ('seal_number_verified', models.CharField(help_text='Seal number as observed', max_length=50, verbose_name='Seal Number Verified')),
                ('seal_intact', models.BooleanField(default=True, verbose_name='Seal Intact')),
                ('seal_condition_notes', models.TextField(blank=True, verbose_name='Seal Condition Notes')),
                ('vehicle_condition_status', models.CharField(choices=[('excellent', 'Excellent - As Described'), ('good', 'Good - Minor Variations'), ('fair', 'Fair - Notable Differences'), ('poor', 'Poor - Significant Damage')], max_length=20, verbose_name='Vehicle Condition Status')),
                ('odometer_reading', models.IntegerField(blank=True, help_text='Odometer reading at inspection (km)', null=True, verbose_name='Odometer Reading (km)')),
                ('vehicle_condition_notes', models.TextField(blank=True, verbose_name='Vehicle Condition Notes')),
                ('documents_complete', models.BooleanField(default=True, help_text='All required documents present and correct', verbose_name='Documents Complete')),
                ('missing_documents', models.TextField(blank=True, verbose_name='Missing or Incomplete Documents')),
                ('photos_taken_count', models.IntegerField(default=0, help_text='Number of photos taken during inspection', verbose_name='Photos Taken')),
                ('photo_ids', models.TextField(blank=True, help_text='Comma-separated ShipmentPhoto IDs', verbose_name='Photo IDs')),
                ('customs_cleared', models.BooleanField(default=False, verbose_name='Customs Cleared')),
                ('customs_clearance_date', models.DateTimeField(blank=True, null=True, verbose_name='Customs Clearance Date')),
                ('customs_reference_number', models.CharField(blank=True, max_length=100, verbose_name='Customs Reference Number')),
                ('verification_passed', models.BooleanField(default=True, help_text='True if verification passed without issues', verbose_name='Verification Passed')),
                ('issues_identified', models.TextField(blank=True, help_text='Any discrepancies or issues found', verbose_name='Issues Identified')),
                ('digital_signature', models.TextField(blank=True, help_text='Digital signature or verification code', verbose_name='Digital Signature')),
                ('verification_certificate_url', models.URLField(blank=True, help_text='URL to downloadable verification certificate', verbose_name='Verification Certificate URL')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('shipment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='port_verifications', to='shipments.shipment', verbose_name='Shipment')),
            ],
            options={
                'verbose_name': 'Port Verification',
                'verbose_name_plural': 'Port Verifications',
                'ordering': ['-verification_date'],
                'indexes': [models.Index(fields=['shipment', '-verification_date'], name='shipments_p_shipmen_7fa4a9_idx'), models.Index(fields=['port_name', 'verification_type'], name='shipments_p_port_na_b67da9_idx')],
            },
        ),
        migrations.CreateModel(
            name='ISO28000AuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action_type', models.CharField(choices=[('risk_assessment', 'Security Risk Assessment'), ('incident_report', 'Security Incident Reported'), ('seal_applied', 'Container Seal Applied'), ('seal_verified', 'Container Seal Verified'), ('lr_registered', "Lloyd's Register CTS Registered"), ('lr_inspection', 'LR Surveyor Inspection'), ('port_verification', 'Port Verification'), ('insurance_updated', 'Insurance Information Updated'), ('customs_cleared', 'Customs Clearance'), ('security_measure', 'Security Measure Implemented'), ('document_upload', 'Security Document Uploaded'), ('access_granted', 'Security Access Granted'), ('system_alert', 'Security System Alert')], max_length=30, verbose_name='Action Type')),
                ('action_timestamp', models.DateTimeField(auto_now_add=True, verbose_name='Action Timestamp')),
                ('performed_by_name', models.CharField(help_text='Name of person or system (if not a user account)', max_length=255, verbose_name='Performed By Name')),
                ('action_description', models.TextField(verbose_name='Action Description')),
                ('related_object_type', models.CharField(blank=True, help_text='SecurityIncident, PortVerification, etc', max_length=50, verbose_name='Related Object Type')),
                ('related_object_id', models.IntegerField(blank=True, null=True, verbose_name='Related Object ID')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='IP Address')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('is_immutable', models.BooleanField(default=True, help_text='Audit logs cannot be modified after creation', verbose_name='Immutable')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('performed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Performed By')),
                ('shipment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='audit_logs', to='shipments.shipment', verbose_name='Shipment')),
            ],
            options={
                'verbose_name': 'ISO 28000 Audit Log',
                'verbose_name_plural': 'ISO 28000 Audit Logs',
                'ordering': ['-action_timestamp'],
                'indexes': [models.Index(fields=['shipment', '-action_timestamp'], name='shipments_i_shipmen_9d2976_idx'), models.Index(fields=['action_type', '-action_timestamp'], name='shipments_i_action__0eba78_idx'), models.Index(fields=['performed_by', '-action_timestamp'], name='shipments_i_perform_87d543_idx')],
            },
        ),
    ]
